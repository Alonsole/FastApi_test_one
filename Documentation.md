### Запуск с контейнером ДатаБазы
1. Настроить виртуальное окружение 
2. Клонировать проект
3. Установить нужные библиотеки
4. Настроить переменное окружение
5. Собрать контейнер с ДБ
6. Запустить скрипт models.py для создания БД и таблицы и script.py для установки ролей  
6.1. Проверка контейнера
7. Запустить сервис
8. Проверить результат.  

### 1. Установите виртуальную среду и активируйте ее:
```
python3 -m venv venv
source venv/bin/activate
```
### 2. Клонируйте репозиторий:
```Bash
git clone -b task_2 git@github.com:Alonsole/FastApi_test_one.git
```
### 3. Установите библиотеки:
```
pip install -r requirements.txt
```
### 4.Настройка переменного окружения
Необходимо переименовать пример.env в .env и заполнить:
```
POSTGRES_DBNAME='db_fastapi'
POSTGRES_PASSWORD='Пароль Подключения к PostgreSQL'
POSTGRES_USER='Имя Пользователя для Подключения к PostgreSQL'
POSTGRES_PORT='5431'
```
### 5. Описание процесса запуска контейнера 
```
docker-compose up -d
```
### 6. Запустить скрипт models.py (из папки app)
```
python models.py
python script.py
```
### 6.1. Проверка результата создания ДБ и таблиц
```
docker exec -it "Контейнер ID" sh
```
```
psql -U postgres
``` 
``` 
\c db_fastapi
```
```
SELECT * FROM advertisement;
```
Ответ:
```
id |  title   | description | price | author |         created_at
----+----------+-------------+-------+--------+----------------------------
```

### 6. Запустить сервис
```
uvicorn server:app
```
### 7. Проверить результат.  
```
http://127.0.0.1:8000/docs
```
### Результат:
```
Advertisement Api

Advertisement Api - purchase sale
Create Advertisement
Find Field Advertisement
Find Id Advertisement
Update Advertisement
Delete Advertisement
Login User
Create User
Get User
Update User
Delete User

```
### Описание models
Скрипт содержит описание моделей для БД, асинхронное создание ДБ, Таблиц, Роли.  
Автоматическая Заливка тестовых данных не предусмотрена. 
### Описание config
- Загрузка переменных окружений
- Настройки подключения к базе данных
- Подключение к базе данных PostgreSQL
- Асинхронный движок базы для создания ДБ
- Асинхронный движок базы для создания Таблиц
- Управление соединениями с базой данных и выполнение запросов
- Настройки ролей
- Время действие токена
### Описание server
Приложение и функции обработки запросов, маршрутизация.
### Описание schema
Структуры данных (формы запросов и ответов), которые отправляются и принимаются в API сервисе  
### Описание crud
Функции работы с PostgreSQL.   
Создание,  
Запросы,  
Обновление,  
Удаление.  

### Описание lifespan
Асинхронный контекстный менеджер
ORM-сессии, будут корректно освобождены после завершения работы приложения.

### Описание dependancy
Функции для работы с сессиями и токенами в приложении
Включает функции для получения текущей сессии, поиска токена в базе данных и обработки   
случаев, когда токен отсутствует или просрочен.   
### Docker-Compose
- Уже настроен на postgres:17.0-alpine

### Тестирование предусмотрено через встроенный функционал:
http://127.0.0.1:8000/docs